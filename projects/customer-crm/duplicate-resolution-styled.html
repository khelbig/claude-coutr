<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve Duplicate Customers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Roboto, "Helvetica Neue", Arial, sans-serif;
            background: rgba(0, 0, 0, 0.5);
            color: rgba(0, 0, 0, 0.87);
            line-height: 1.43;
            letter-spacing: 0.01071em;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Modal Container */
        .modal-container {
            background: white;
            border-radius: 4px;
            width: 100%;
            max-width: 1280px;
            box-shadow: 0px 11px 15px -7px rgba(0,0,0,0.2), 
                        0px 24px 38px 3px rgba(0,0,0,0.14), 
                        0px 9px 46px 8px rgba(0,0,0,0.12);
            overflow: hidden;
        }

        /* Modal Header */
        .modal-header {
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 1px solid rgba(0, 0, 0, 0.12);
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 500;
            line-height: 1.6;
            margin: 0;
        }

        .modal-subtitle {
            font-size: 0.875rem;
            color: rgba(0, 0, 0, 0.6);
            margin-top: 4px;
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.15s;
            color: rgba(0, 0, 0, 0.54);
        }

        .close-btn:hover {
            background: rgba(0, 0, 0, 0.04);
        }

        /* Modal Body */
        .modal-body {
            padding: 24px;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        /* Summary Cards Grid */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .summary-card {
            padding: 16px;
            border-radius: 4px;
            box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 
                        0px 1px 1px 0px rgba(0,0,0,0.14), 
                        0px 1px 3px 0px rgba(0,0,0,0.12);
        }

        .summary-card.ready {
            background: #f5f5f5;
        }

        .summary-card.conflicts {
            background: #fff3e0;
        }

        .summary-card.matches {
            background: #e8f5e9;
        }

        .summary-card.resolved {
            background: #e3f2fd;
        }

        .stat-label {
            font-size: 0.75rem;
            color: rgba(0, 0, 0, 0.6);
            text-transform: capitalize;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 1.75rem;
            font-weight: 400;
            line-height: 1.235;
        }

        .conflicts .stat-value {
            color: #ff9800;
        }

        .matches .stat-value {
            color: #4caf50;
        }

        .resolved .stat-value {
            color: #2196f3;
        }

        /* Alert Box */
        .alert-box {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: #fff3e0;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .alert-icon {
            color: #ff9800;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .alert-description {
            font-size: 0.875rem;
            color: rgba(0, 0, 0, 0.6);
        }

        /* Bulk Actions */
        .bulk-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: #f5f5f5;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .bulk-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.87);
        }

        .bulk-btn {
            padding: 6px 16px;
            border: 1px solid rgba(0, 0, 0, 0.23);
            border-radius: 4px;
            background: white;
            font-size: 0.8125rem;
            cursor: pointer;
            transition: all 0.15s;
            color: rgba(0, 0, 0, 0.87);
        }

        .bulk-btn:hover {
            background: rgba(0, 0, 0, 0.04);
            border-color: rgba(0, 0, 0, 0.87);
        }

        /* Conflict Table */
        .conflicts-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 
                        0px 1px 1px 0px rgba(0,0,0,0.14), 
                        0px 1px 3px 0px rgba(0,0,0,0.12);
        }

        .conflicts-table thead {
            background: #fafafa;
        }

        .conflicts-table th {
            padding: 16px;
            text-align: left;
            font-size: 0.875rem;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.87);
            border-bottom: 1px solid rgba(224, 224, 224, 1);
        }

        .conflicts-table td {
            padding: 16px;
            font-size: 0.875rem;
            color: rgba(0, 0, 0, 0.87);
            border-bottom: 1px solid rgba(224, 224, 224, 1);
        }

        .conflicts-table tbody tr:last-child td {
            border-bottom: none;
        }

        .conflicts-table tbody tr:hover {
            background: rgba(0, 0, 0, 0.04);
        }

        /* Customer Info Cells */
        .customer-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .customer-name {
            font-weight: 500;
            color: rgba(0, 0, 0, 0.87);
        }

        .customer-detail {
            font-size: 0.75rem;
            color: rgba(0, 0, 0, 0.6);
        }

        .email-badge {
            display: inline-block;
            padding: 2px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .no-data {
            color: rgba(0, 0, 0, 0.38);
            font-style: italic;
        }

        /* Status Badge */
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.6875rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.warning {
            background: #fff3e0;
            color: #f57c00;
        }

        .status-badge.success {
            background: #e8f5e9;
            color: #2e7d32;
        }

        /* Action Select */
        .action-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid rgba(0, 0, 0, 0.23);
            border-radius: 4px;
            background: white;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.15s;
            color: rgba(0, 0, 0, 0.87);
        }

        .action-select:hover {
            border-color: rgba(0, 0, 0, 0.87);
        }

        .action-select:focus {
            outline: none;
            border-color: #1976d2;
            box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
        }

        .action-select.selected {
            background: #e3f2fd;
            border-color: #1976d2;
        }

        /* Modal Footer */
        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid rgba(0, 0, 0, 0.12);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fafafa;
        }

        .footer-info {
            font-size: 0.875rem;
            color: rgba(0, 0, 0, 0.6);
        }

        .btn-group {
            display: flex;
            gap: 8px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 6px 16px;
            border-radius: 4px;
            font-size: 0.875rem;
            font-weight: 500;
            line-height: 1.75;
            letter-spacing: 0.02857em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.15s;
            border: none;
            min-width: 64px;
        }

        .btn-text {
            background: transparent;
            color: #1976d2;
            padding: 6px 8px;
        }

        .btn-text:hover {
            background: rgba(25, 118, 210, 0.04);
        }

        .btn-primary {
            background: #1976d2;
            color: white;
            box-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2), 
                        0px 2px 2px 0px rgba(0,0,0,0.14), 
                        0px 1px 5px 0px rgba(0,0,0,0.12);
        }

        .btn-primary:hover {
            background: #1565c0;
            box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2), 
                        0px 4px 5px 0px rgba(0,0,0,0.14), 
                        0px 1px 10px 0px rgba(0,0,0,0.12);
        }

        .btn-primary:disabled {
            background: rgba(0, 0, 0, 0.12);
            color: rgba(0, 0, 0, 0.26);
            box-shadow: none;
            cursor: not-allowed;
        }

        /* Row Number */
        .row-number {
            display: inline-block;
            padding: 2px 6px;
            background: #f5f5f5;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.6);
        }

        /* Scrollbar */
        .modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: #f5f5f5;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: #bdbdbd;
            border-radius: 4px;
        }

        .modal-body::-webkit-scrollbar-thumb:hover {
            background: #9e9e9e;
        }
    </style>
</head>
<body>
    <div class="modal-container">
        <!-- Modal Header -->
        <div class="modal-header">
            <div>
                <h2 class="modal-title">Resolve Duplicate Customers</h2>
                <div class="modal-subtitle">Review and resolve conflicts for customers with matching phone numbers</div>
            </div>
            <button class="close-btn">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path>
                </svg>
            </button>
        </div>

        <!-- Modal Body -->
        <div class="modal-body">
            <!-- Summary Stats -->
            <div class="summary-grid">
                <div class="summary-card conflicts">
                    <div class="stat-label">Total Conflicts</div>
                    <div class="stat-value">20</div>
                </div>
                <div class="summary-card matches">
                    <div class="stat-label">Name Matches</div>
                    <div class="stat-value">5</div>
                </div>
                <div class="summary-card ready">
                    <div class="stat-label">No Names</div>
                    <div class="stat-value">15</div>
                </div>
                <div class="summary-card resolved">
                    <div class="stat-label">Resolved</div>
                    <div class="stat-value">0</div>
                </div>
            </div>

            <!-- Alert -->
            <div class="alert-box">
                <svg class="alert-icon" width="20" height="20" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M120,16V8a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0Zm80,32a8,8,0,0,0,5.66-2.34l8-8a8,8,0,0,0-11.32-11.32l-8,8A8,8,0,0,0,200,48ZM50.34,45.66A8,8,0,0,0,61.66,34.34l-8-8A8,8,0,0,0,42.34,37.66Zm87,26.45a8,8,0,1,0-2.68,15.78C153.94,91.4,168,108.32,168,128a8,8,0,0,0,16,0C184,100.6,163.93,76.57,137.32,72.11ZM232,176v24a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V176a16,16,0,0,1,16-16H52.84a95.34,95.34,0,0,0,23.3,21.47C93.7,192.79,116.31,200,144,200s50.3-7.21,67.86-18.53A95.34,95.34,0,0,0,235.16,160H248A16,16,0,0,1,232,176Z"></path>
                </svg>
                <div class="alert-content">
                    <div class="alert-title">Duplicate Phone Numbers Found</div>
                    <div class="alert-description">We found 20 existing customers with the same phone numbers but no email addresses. Choose how to handle each conflict.</div>
                </div>
            </div>

            <!-- Bulk Actions -->
            <div class="bulk-actions">
                <span class="bulk-label">Bulk Actions:</span>
                <button class="bulk-btn">Update all matching names</button>
                <button class="bulk-btn">Skip all without names</button>
                <button class="bulk-btn">Create all as new</button>
            </div>

            <!-- Conflicts Table -->
            <table class="conflicts-table">
                <thead>
                    <tr>
                        <th style="width: 80px;">Row</th>
                        <th style="width: 25%;">Import Data</th>
                        <th style="width: 25%;">Existing Customer</th>
                        <th style="width: 100px;">Status</th>
                        <th style="width: 200px;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <span class="row-number">#127</span>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Satang Corrah</div>
                                <div class="customer-detail">
                                    <span class="email-badge">s.corrah@email.com</span>
                                </div>
                                <div class="customer-detail">+16082131250</div>
                            </div>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Satang Corrah</div>
                                <div class="customer-detail no-data">No email</div>
                                <div class="customer-detail">Created: 7/17/2025 • Orders: 0</div>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge warning">Pending</span>
                        </td>
                        <td>
                            <select class="action-select">
                                <option value="">Select action...</option>
                                <option value="update">Update existing</option>
                                <option value="skip">Skip row</option>
                                <option value="create">Create new</option>
                                <option value="merge">Merge records</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="row-number">#138</span>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name no-data">No name</div>
                                <div class="customer-detail">
                                    <span class="email-badge">customer138@email.com</span>
                                </div>
                                <div class="customer-detail">+12402710371</div>
                            </div>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name no-data">No name</div>
                                <div class="customer-detail no-data">No email</div>
                                <div class="customer-detail">Created: 7/19/2025 • Orders: 0</div>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge warning">Pending</span>
                        </td>
                        <td>
                            <select class="action-select">
                                <option value="">Select action...</option>
                                <option value="update">Update existing</option>
                                <option value="skip">Skip row</option>
                                <option value="create">Create new</option>
                                <option value="merge">Merge records</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="row-number">#141</span>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Hassan Usmani</div>
                                <div class="customer-detail">
                                    <span class="email-badge">h.usmani@email.com</span>
                                </div>
                                <div class="customer-detail">+17035689948</div>
                            </div>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Hassan Usmani</div>
                                <div class="customer-detail no-data">No email</div>
                                <div class="customer-detail">Created: 7/20/2025 • Orders: 0</div>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge success">Resolved</span>
                        </td>
                        <td>
                            <select class="action-select selected">
                                <option value="">Select action...</option>
                                <option value="update" selected>Update existing</option>
                                <option value="skip">Skip row</option>
                                <option value="create">Create new</option>
                                <option value="merge">Merge records</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="row-number">#145</span>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Michelle Rodriguez</div>
                                <div class="customer-detail">
                                    <span class="email-badge">m.rodriguez@email.com</span>
                                </div>
                                <div class="customer-detail">+14155551234</div>
                            </div>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name">Michelle Rodriguez</div>
                                <div class="customer-detail no-data">No email</div>
                                <div class="customer-detail">Created: 7/21/2025 • Orders: 2</div>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge warning">Pending</span>
                        </td>
                        <td>
                            <select class="action-select">
                                <option value="">Select action...</option>
                                <option value="update">Update existing</option>
                                <option value="skip">Skip row</option>
                                <option value="create">Create new</option>
                                <option value="merge">Merge records</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="row-number">#152</span>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name no-data">No name</div>
                                <div class="customer-detail">
                                    <span class="email-badge">newcustomer@email.com</span>
                                </div>
                                <div class="customer-detail">+19175559876</div>
                            </div>
                        </td>
                        <td>
                            <div class="customer-info">
                                <div class="customer-name no-data">No name</div>
                                <div class="customer-detail no-data">No email</div>
                                <div class="customer-detail">Created: 7/22/2025 • Orders: 0</div>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge warning">Pending</span>
                        </td>
                        <td>
                            <select class="action-select">
                                <option value="">Select action...</option>
                                <option value="update">Update existing</option>
                                <option value="skip">Skip row</option>
                                <option value="create">Create new</option>
                                <option value="merge">Merge records</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Modal Footer -->
        <div class="modal-footer">
            <div class="footer-info">1 of 20 conflicts resolved</div>
            <div class="btn-group">
                <button class="btn btn-text">Back</button>
                <button class="btn btn-text">Cancel</button>
                <button class="btn btn-primary" disabled>Apply Changes</button>
            </div>
        </div>
    </div>

    <script>
        // Handle action selection
        document.querySelectorAll('.action-select').forEach(select => {
            select.addEventListener('change', function() {
                const row = this.closest('tr');
                const statusBadge = row.querySelector('.status-badge');
                
                if (this.value) {
                    this.classList.add('selected');
                    statusBadge.classList.remove('warning');
                    statusBadge.classList.add('success');
                    statusBadge.textContent = 'Resolved';
                } else {
                    this.classList.remove('selected');
                    statusBadge.classList.remove('success');
                    statusBadge.classList.add('warning');
                    statusBadge.textContent = 'Pending';
                }
                
                updateResolvedCount();
            });
        });

        function updateResolvedCount() {
            const resolved = document.querySelectorAll('.action-select.selected').length;
            const total = document.querySelectorAll('.action-select').length;
            
            document.querySelector('.footer-info').textContent = `${resolved} of ${total} conflicts resolved`;
            document.querySelector('.resolved .stat-value').textContent = resolved;
            
            const applyBtn = document.querySelector('.btn-primary');
            applyBtn.disabled = resolved !== total;
        }

        // Bulk action handlers
        document.querySelectorAll('.bulk-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const action = this.textContent;
                const selects = document.querySelectorAll('.action-select');
                
                if (action.includes('matching names')) {
                    selects.forEach((select, i) => {
                        const row = select.closest('tr');
                        const importName = row.querySelectorAll('.customer-name')[0];
                        const existingName = row.querySelectorAll('.customer-name')[1];
                        
                        if (!importName.classList.contains('no-data') && 
                            importName.textContent === existingName.textContent) {
                            select.value = 'update';
                            select.dispatchEvent(new Event('change'));
                        }
                    });
                } else if (action.includes('without names')) {
                    selects.forEach(select => {
                        const row = select.closest('tr');
                        const importName = row.querySelector('.customer-name');
                        
                        if (importName.classList.contains('no-data')) {
                            select.value = 'skip';
                            select.dispatchEvent(new Event('change'));
                        }
                    });
                } else if (action.includes('Create all')) {
                    selects.forEach(select => {
                        select.value = 'create';
                        select.dispatchEvent(new Event('change'));
                    });
                }
            });
        });
    </script>
</body>
</html>